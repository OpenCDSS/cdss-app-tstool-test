# Test setting working directory to temp folder on Windows, using legacy syntax
# TODO SAM 2015-03-04 Need to fix so this works. Temporary files are now in user space, not global.
#@readOnly
#@os Windows
StartLog(LogFile="Results/Test_SetWorkingDir_Legacy_Windows_WorkingDir=Temp,RunMode=GUIAndBatch.TSTool.log")
RemoveFile(InputFile="Results/Test_SetWorkingDir_Legacy_Windows_WorkingDir=Temp,RunMode=GUIAndBatch_out.txt",WarnIfMissing=False)
SetWorkingDir("C:\TMP",GUIAndBatch)
# Uncomment the following two commands to regenerate the expected results file.
#WriteProperty(OutputFile="${InitialWorkingDir}/ExpectedResults/Test_SetWorkingDir_Legacy_Windows_WorkingDir=Temp,RunMode=GUIAndBatch_out.txt",PropertyName="WorkingDir",Append="False")
# Generate new output...
WriteProperty(OutputFile="${InitialWorkingDir}/Results/Test_SetWorkingDir_Legacy_Windows_WorkingDir=Temp,RunMode=GUIAndBatch_out.txt",PropertyName="WorkingDir",Append="False")
# Do regression comparison...
CompareFiles(InputFile1="${InitialWorkingDir}/ExpectedResults/Test_SetWorkingDir_Legacy_Windows_WorkingDir=Temp,RunMode=GUIAndBatch_out.txt",InputFile2="${InitialWorkingDir}/Results/Test_SetWorkingDir_Legacy_Windows_WorkingDir=Temp,RunMode=GUIAndBatch_out.txt",WarnIfDifferent=True)
