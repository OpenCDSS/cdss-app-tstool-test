# Test writing a daily time series to delimited format
# - commas as delimiter (CSV)
# - full header comments
# - defaults for all other parameters
StartLog(LogFile="Results/Test_WriteDelimitedFile_Day_WriteHeaderComments_Full.TSTool.log")
RemoveFile(InputFile="Results/Test_WriteDelimitedFile_Day_WriteHeaderComments_Full_out.dv",IfNotFound=Ignore)
NewPatternTimeSeries(Alias="Loc1",NewTSID="Loc1..Precip.Day",Description="Test precipitation data",SetStart="1950-01-01",SetEnd="1951-03-12",Units="mm",PatternValues="5,,10,12,13,35")
NewPatternTimeSeries(Alias="Loc2",NewTSID="Loc2..Precip.Day",Description="Test precipitation data",SetStart="1950-01-01",SetEnd="1951-03-12",Units="mm",PatternValues="10,20,,,24,26,70")
# Uncomment the following command to regenerate the expected results file:
# - must specify Full for headers since None is the default
# WriteDelimitedFile(OutputFile="ExpectedResults\Test_WriteDelimitedFile_Day_WriteHeaderComments_Full_out.csv",WriteHeaderComments=Full)
# Generate new output...
WriteDelimitedFile(OutputFile="Results/Test_WriteDelimitedFile_Day_WriteHeaderComments_Full_out.csv",WriteHeaderComments=Full)
# Do regression comparison...
CompareFiles(InputFile1="ExpectedResults\Test_WriteDelimitedFile_Day_WriteHeaderComments_Full_out.csv",InputFile2="Results/Test_WriteDelimitedFile_Day_WriteHeaderComments_Full_out.csv",IfDifferent=Warn)
CheckFile(InputFile="Results/Test_WriteDelimitedFile_Day_WriteHeaderComments_Full_out.csv",Statistic="PatternMatchLineCount",SearchPattern="*File generated by*",CheckCriteria="<",CheckValue1=1)
CheckFile(InputFile="Results/Test_WriteDelimitedFile_Day_WriteHeaderComments_Full_out.csv",Statistic="PatternMatchLineCount",SearchPattern="*# Commands:*",CheckCriteria="<",CheckValue1=1)
